angular.module("agil.filtros",[]).filter("orderRankin",function(){return function(o){return angular.forEach(o,function(o){void 0==o.rankin&&(o.rankin=0)}),o}}).filter("filtroIngresos",function(){return function(o){var n=[];return angular.forEach(o,function(o){"INGRESO"===o.concepto.nombre&&n.push(o)}),n}}).filter("filtroEgresos",function(){return function(o){var n=[];return angular.forEach(o,function(o){"GASTO"===o.concepto.nombre&&n.push(o)}),n}}).filter("filtroAnticipos",function(){return function(o){var n=[];return angular.forEach(o,function(o){"ANTICIPO"===o.concepto.nombre&&n.push(o)}),n}}).filter("filtroMovVenta",function(){return function(o){var n=[];return angular.forEach(o,function(o){"SERVICIO"!=o.nombre&&n.push(o)}),n}}).filter("filtroMovLibroVenta",function(){return function(o){var n=[];return angular.forEach(o,function(o){"SERV"!=o.nombre_corto&&"FACT"!=o.nombre_corto||n.push(o)}),n}}).filter("filtroSolicitud",function(){return function(o){var n=[];return angular.forEach(o,function(o){"ANTICIPO"!==o.concepto.nombre&&"GASTO"!==o.concepto.nombre&&"KARDEX"!==o.concepto.nombre||n.push(o)}),n}}).filter("filtroKardex",function(){return function(o,n,e){var r=[];if(""!=n.lote&&void 0!=n.lote)if(n.datos){n.datos.forEach(function(o,e,t){o.lote==n.lote&&r.push(o)});var t=r}else t=o;else t=n.datos;return t}}).filter("groupBy",function(){return function(o,n){if(null!==o&&void 0!==o)return uniqueItems(o,n)}}).filter("dateRange",function(){return function(o,n,e){var r=[];if(console.log(n,e),n&&e){var t=Date.parse(n),c=Date.parse(e);return angular.forEach(o,function(o){var n=Date.parse(fechaATexto(o.despacho.fecha));n>=t&&n<=c&&r.push(o)}),r}return o}}).filter("orderObjectBy",function(){return function(o,n,e,r){var t=[];return angular.forEach(o,function(o){t.push(o)}),t.sort(function(o,t){return"cliente"==r?e?o.despacho.cliente[n]>t.despacho.cliente[n]?1:o.despacho.cliente[n]<t.despacho.cliente[n]?-1:0:o.despacho.cliente[n]>t.despacho.cliente[n]?-1:o.despacho.cliente[n]<t.despacho.cliente[n]?1:0:"vendedor"==r?e?o.despacho.usuario.persona[n]>t.despacho.usuario.persona[n]?1:o.despacho.usuario.persona[n]<t.despacho.usuario.persona[n]?-1:0:o.despacho.usuario.persona[n]>t.despacho.usuario.persona[n]?-1:o.despacho.usuario.persona[n]<t.despacho.usuario.persona[n]?1:0:"destino"==r?e?o.despacho.destino[n]>t.despacho.destino[n]?1:o.despacho.destino[n]<t.despacho.destino[n]?-1:0:o.despacho.destino[n]>t.despacho.destino[n]?-1:o.despacho.destino[n]<t.despacho.destino[n]?1:0:"fecha"==r?e?o.despacho[n]>t.despacho[n]?1:o.despacho[n]<t.despacho[n]?-1:0:o.despacho[n]>t.despacho[n]?-1:o.despacho[n]<t.despacho[n]?1:0:"producto"==r?e?o.producto[n]>t.producto[n]?1:o.producto[n]<t.producto[n]?-1:0:o.producto[n]>t.producto[n]?-1:o.producto[n]<t.producto[n]?1:0:0}),t}});var uniqueItems=function(o,n){for(var e=[],r=0;r<o.length;r++){var t=o[r][n];-1==e.indexOf(t)&&e.push(t)}return e};