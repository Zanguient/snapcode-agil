angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(t,l){function c(c,e,r){l(e)(c);var a=t(r.checklistModel),i=a.assign,n=t(r.checklistValue)(c.$parent);c.$watch("checked",function(e,r){if(e!==r){var t=a(c.$parent);i(c.$parent,!0===e?function(e,r){e=angular.isArray(e)?e:[];for(var t=0;t<e.length;t++)if(angular.equals(e[t],r))return e;return e.push(r),e}(t,n):function(e,r){if(angular.isArray(e))for(var t=0;t<e.length;t++)if(angular.equals(e[t],r)){e.splice(t,1);break}return e}(t,n))}}),c.$parent.$watch(r.checklistModel,function(e,r){c.checked=function(e,r){if(angular.isArray(e))for(var t=0;t<e.length;t++)if(angular.equals(e[t],r))return!0;return!1}(e,n)},!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,r){if("INPUT"!==e[0].tagName||!e.attr("type","checkbox"))throw'checklist-model should be applied to `input[type="checkbox"]`.';if(!r.checklistValue)throw"You should provide `checklist-value`.";return e.removeAttr("checklist-model"),e.attr("ng-model","checked"),c}}}]);