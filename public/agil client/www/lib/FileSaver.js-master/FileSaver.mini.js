var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=function(){return e.URL||e.webkitURL||e},n=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in n,r=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),i=e.webkitRequestFileSystem,a=e.requestFileSystem||i||e.mozRequestFileSystem,c=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},f="application/octet-stream",s=0,u=function(n){var o=function(){"string"==typeof n?t().revokeObjectURL(n):n.remove()};e.chrome?o():setTimeout(o,500)},d=function(e,t,n){for(var o=(t=[].concat(t)).length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){c(e)}}},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},v=function(c,v,p){p||(c=l(c));var w,y,m,h=this,S=c.type,R=!1,O=function(){d(h,"writestart progress write writeend".split(" "))},g=function(){if(y&&r&&"undefined"!=typeof FileReader){var n=new FileReader;return n.onloadend=function(){var e=n.result;y.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),h.readyState=h.DONE,O()},n.readAsDataURL(c),void(h.readyState=h.INIT)}(!R&&w||(w=t().createObjectURL(c)),y)?y.location.href=w:void 0==e.open(w,"_blank")&&r&&(e.location.href=w);h.readyState=h.DONE,O(),u(w)},b=function(e){return function(){if(h.readyState!==h.DONE)return e.apply(this,arguments)}},E={create:!0,exclusive:!1};if(h.readyState=h.INIT,v||(v="download"),o)return w=t().createObjectURL(c),n.href=w,n.download=v,void setTimeout(function(){var e,t;e=n,t=new MouseEvent("click"),e.dispatchEvent(t),O(),u(w),h.readyState=h.DONE});e.chrome&&S&&S!==f&&(m=c.slice||c.webkitSlice,c=m.call(c,0,c.size,f),R=!0),i&&"download"!==v&&(v+=".download"),(S===f||i)&&(y=e),a?(s+=c.size,a(e.TEMPORARY,s,b(function(e){e.root.getDirectory("saved",E,b(function(e){var t=function(){e.getFile(v,E,b(function(e){e.createWriter(b(function(t){t.onwriteend=function(t){y.location.href=e.toURL(),h.readyState=h.DONE,d(h,"writeend",t),u(e)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&g()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=h["on"+e]}),t.write(c),h.abort=function(){t.abort(),h.readyState=h.DONE},h.readyState=h.WRITING}),g)}),g)};e.getFile(v,{create:!1},b(function(e){e.remove(),t()}),b(function(e){e.code===e.NOT_FOUND_ERR?t():g()}))}),g)}),g)):g()},p=v.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(p.abort=function(){this.readyState=this.DONE,d(this,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,function(e,t,n){return new v(e,t,n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});